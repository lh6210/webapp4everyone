<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<!-- import jquery library -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>
<body>
	<div id='posList'>
		<input type="button" id='addBtn' value='+'>
  </div>

	<p id='cnt'></p>


  <p id='warning'></p>

	<script>
		var maxCnt = 5;
    var cnt = 0;
		$(document).ready(function() {
			$('p').add('div').css('background-color', 'yellow');
      // console.log($("#posList")[0].childNodes);
			//$('p, div').css('background-color','yellow');
		});

    // minus one because the first child of posList is the input button '+' 
    function checkCnt() {
      let cnt =document.querySelector('#posList').children;
      console.log('the # of position boxes: ' + (cnt.length - 1));
      return cnt.length;
    }
    
    // click addBtn will trigger addPosBox function
    document.querySelector('#addBtn').addEventListener('click', addPosBox);
    
    function addPosBox() {
      // check current position box number 
      // let cnt = checkCnt();
      if (cnt < maxCnt) {
        //let elm = "<div><input type='text' name='position'+cnt><input type='button' value='-' class='delBtns'></div>";
        let container = document.createElement('div');
        let st = 'position' + toString(cnt);
        let inputTxt = document.createElement('input');
        inputTxt.setAttribute('type', 'text');
        let inputBtn = document.createElement('input');
        inputBtn.setAttribute('type', 'button');
        inputBtn.setAttribute('value', '-');
        inputBtn.addEventListener('click', delPosBox);
        container.append(inputTxt);
        container.append(inputBtn);

        $('#posList').append(container);
        cnt++;
        let c = document.querySelector('#cnt');
        c.innerHTML = "position number: " + cnt; 

      } else {
        alert("You've reached the maximum position numbers.");
      }
    }
        
    /* 
    function updateCnt(){
        let cnt = checkCnt();
        let c = document.querySelector('#cnt');
        c.innerHTML = "position number: " + cnt; 
    }
    */

    //document.querySelector('.delBtns').addEventListener('click', delPosBox); 
    //$('.delBtns').on('click', delPosBox);
    
    // add eventListener for each delete button
    const buttons = document.getElementsByClassName('delBtns');
    for (const button of buttons) {
      button.addEventListener('click', delPosBox);
    }
    
    function delPosBox() {
      //alert("I was clicked.");
      this.parentElement.remove(); 
      cnt--;
      let c = document.querySelector('#cnt');
      c.innerHTML = "position number: " + cnt; 
    }

	</script>
</body>
</html>
